import cv2
import matplotlib.pyplot as plt
import numpy as np

# Load the captured image (assuming 'img_rgb' from previous step is available or re-load)
try:
    # If img_rgb is not in kernel state, re-load the image
    if 'img_rgb' not in locals():
        image_path = '/content/Screenshot 2025-12-17 125718.png' # Using the image path from the previous cell
        img = cv2.imread(image_path)
        if img is None:
            raise FileNotFoundError(f"Image not found at {image_path}")
        img_rgb = cv2.cvtColor(img, cv2.COLOR_BGR2RGB)

    original_height, original_width = img_rgb.shape[:2]

    # --- Translation ---
    # Define the translation amounts (e.g., move 50 pixels right, 30 pixels down)
    tx = 50
    ty = 30

    # Create the 2x3 translation matrix
    # M = [[1, 0, tx],
    #      [0, 1, ty]]
    M = np.float32([[1, 0, tx], [0, 1, ty]])

    # Apply the translation using warpAffine
    # The third argument is the size of the output image (width, height)
    translated_image = cv2.warpAffine(img_rgb, M, (original_width, original_height))

    # --- Displaying the Images ---
    plt.figure(figsize=(12, 6))

    plt.subplot(1, 2, 1)
    plt.imshow(img_rgb)
    plt.title('Original Image')
    plt.axis('off')

    plt.subplot(1, 2, 2)
    plt.imshow(translated_image)
    plt.title(f'Translated Image (tx={tx}, ty={ty})')
    plt.axis('off')

    plt.show()

except FileNotFoundError as e:
    print(f"Error: {e}. Please ensure the image file exists.")
except Exception as e:
    print(f"An error occurred: {e}")
